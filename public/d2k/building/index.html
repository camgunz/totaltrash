<!DOCTYPE html>
<html class="no-js" lang="">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>:: TotalTrash :: Building D2K</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet"
          href="/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="/css/bootstrap-slate.min.css">
    <link rel="stylesheet"
          href="/css/main.css">
    <link rel="apple-touch-icon-precomposed" sizes="144x144"
          href="/img/apple-touch-icon-144-precomposed.png">
    <script type="text/javascript"
            src="/js/modernizr-2.6.2-respond-1.1.0.min.js">
    </script>
</head>

<body>
    <!--[if lt IE 8]>
        <p class="browsehappy">
            You are using an <strong>outdated</strong> browser. Please
            <a href="http://browsehappy.com">Upgrade your browser</a> to
            improve your experience.
        </p>
    <![endif]-->
    <div class="navbar navbar-default navbar-static-top" role="navigation"
     id="main-navbar">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
                    data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">:: TotalTrash ::</a>
        </div>
        <div class="navbar-collapse collapse" id="main-menu">
            <ul class="nav navbar-nav" id="main-menu-left">
                
                    <li class="dropdown active">
                
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        D2K<b class="caret"></b>
                    </a>
                    <ul class="dropdown-menu" id="d2k-menu">
                        <li><a href="/d2k">D2K</a></li>
                        <li class="divider"></li>
                        <li><a href="/d2k/goals">Goals</a></li>
                        <li><a href="/d2k/download">Downloads</a>
                        </li>
                        <li>
                            <a href="https://github.com/camgunz/d2k/issues">
                                Issues
                            </a>
                        </li>
                        <li><a href="/d2k/faq">FAQ</a></li>
                        <li><a href="/d2k/building">Building</a> </li>
                    </ul>
                </li>
                
                    <li class="dropdown">
                
                    <a class="dropdown-toggle" data-toggle="dropdown"
                       href="#">Eternity C/S<b class="caret"></b>
                    </a>
                    <ul class="dropdown-menu" id="ee-menu">
                        <li><a href="/eternity">Eternity C/S</a></li>
                        <li class="divider"></li>
                        <li><a href="/eternity/features">Features</a></li>
                        <li><a href="/eternity/download">Downloads</a></li>
                        <li>
                            <a href="https://github.com/camgunz/eternity/issues">
                                Issues
                            </a>
                        </li>
                        <li><a href="/eternity/faq">FAQ</a></li>
                        <li><a href="/eternity/building">Building</a></li>
                    </ul>
                </li>
                
                    <li>
                
                    <a href="/about">About</a>
                </li>
                
                    <li>
                
                    <a href="wads">WADs</a>
                </li>
            </ul>
        </div>
    </div>
</div>


    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 visible-xs visible-sm">
                <img src="/img/ttlogooneline.png"
                     alt="Total Trash"
                     class="logo logo-top center-block"
                />
            </div>
        </div>
        <div class="row">
            <div class="col-md-3 hidden-xs hidden-sm">
                <img src="/img/ttlogo.png"
                     alt="Total Trash"
                     class="logo logo-side" />
            </div>
            <div id="content" class="col-md-8 col-md-offset-1 tt-panel">
                <h2 class="post-title">Building D2K</h2>
                

<h3 id="toc_0">Source Code</h3>

<p>D2K&rsquo;s source code is located <a href="https://github.com/camgunz/d2k">here</a>; you can
clone it with Git like so:</p>

<pre><code>git clone https://github.com/camgunz/d2k
</code></pre>

<p>Afterwards, there is a <code>build.sh</code> script which will build D2K; the resulting
executable is built in the <code>cbuild</code> folder.</p>

<h3 id="toc_1">Dependencies</h3>

<p>D2K has quite a few dependencies:</p>

<ul>
<li>libiconv (part of glibc)</li>
<li>zlib</li>
<li>libpng</li>
<li>libffi</li>
<li>gettext</li>
<li>pcre</li>
<li>GLib</li>
<li>Fontconfig</li>
<li>FreeType</li>
<li>HarfBuzz</li>
<li>Expat</li>
<li>Pixman</li>
<li>Cairo</li>
<li>Pango</li>
<li>libXDiff</li>
<li>ENet</li>
<li>SDL</li>
<li>SDL_mixer</li>
<li>OpenGL</li>
<li>Lua</li>
<li>LZMA*</li>
<li>libjpeg*</li>
<li>libtiff*</li>
<li>WebP*</li>
<li>SDL_image*</li>
<li>DUMB*</li>
<li>PortMidi*</li>
<li>FluidSynth*</li>
<li>MikMod*</li>
<li>libmad*</li>
<li>libvorbis*</li>
<li>libogg*</li>
<li>libFLAC*</li>
<li>gperf*</li>
</ul>

<p><em>* = optional</em></p>

<p>We plan to add more, at least Jansson, libcurl, and PolarSSL.</p>

<p>On Arch Linux, the only dependency not bundled is libXDiff, which can be found
in the AUR. I&rsquo;m afraid I can&rsquo;t help with other distributions.</p>

<h3 id="toc_2">Cross-Compiling</h3>

<p><a href="https://github.com/camgunz/mingw64-builds">mingw64-builds</a> is a project that
cross-compiles dozens of popular libraries using the Mingw-w64 cross-compiler.
You can clone it with Git like so:</p>

<pre><code>git clone https://github.com/camgunz/mingw64-builds
</code></pre>

<p>By default, mingw64-builds builds all the libraries in the <code>build</code> subfolder.
When cross-compiling D2K, D2K expects the dependencies to be in its <code>crossdeps</code>
folder. You can change both of these options if you need to. D2K contains a
<code>crossbuild.sh</code> script which will cross-compile it for Windows. The resulting
executable is built in the <code>crossbuild</code> folder.</p>

<h3 id="toc_3">Building on Windows</h3>

<p>There is currently no support for building on Windows.  I&rsquo;ll accept patches for
IDEs or compilers that support C99, but I will not accept patches that modify
the code in order for it to work with a non-compliant system (MSVC++, for
example).</p>

<p>Support for IDEs like Code::Blocks or CDT is planned, but not currently a
priority.</p>

<h3 id="toc_4">MP3</h3>

<p>MP3 support is on sketchy legal ground due to patents covering MP3 technology.
Use at your own risk. We strongly encourage mappers and modders to use the free
and superior OGG format.</p>

            </div>
        </div>
    </div>
    <footer class="footer">
    <div class="container">
        &copy; TotalTrash 2014
    </div>
</footer>

    <script type="text/javascript"
        src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js">
</script>
<script>
    var url = "/js/jquery-1.11.1.min.js"
    window.jQuery || document.write(
        '<script src="' + url + '"<\/script>'
    )
</script>
<script type="text/javascript"
        src="/js/bootstrap.min.js">
</script>

<script src="/js/ie10-viewport-bug-workaround.js">
</script>

<script>document.write('<script src="http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1313/livereload.js?mindelay=10"></'
        + 'script>')</script></body>
</html>
